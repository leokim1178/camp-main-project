<p align="center">
<img src="https://capsule-render.vercel.app/api?&type=waving&color=timeAuto&height=180&section=header&text=Main Project%20Tesla&fontSize=50&animation=fadeIn&fontAlignY=45" />
  </p>

> Tesla ëª¨ì˜ì–´í”Œ ë°±ì—”ë“œ

MySQLê³¼ Nestjsë¥¼ ì´ìš©í•´ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
Tesla í™ˆí˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ë©° ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
ê³µë¶€ìš©ì´ê¸°ì— ì—†ëŠ” ê¸°ëŠ¥ì´ ë“¤ì–´ê°€ ìˆê¸°ë„ í•©ë‹ˆë‹¤.

## ëª©ì°¨

[ëª©ì°¨](#ëª©ì°¨)

[ë°°í¬ ì£¼ì†Œ](#ë°°í¬-ì£¼ì†Œ)

[ì„œë²„,db ì„¤ê³„](#ì„œë²„db-ì„¤ê³„)

[ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)

[ERD ì„¤ê³„](#erd-ì„¤ê³„)

[íŒŒì´í”„ ë¼ì¸](#íŒŒì´í”„-ë¼ì¸)

- [ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸](#ëª¨ë¸ì •ë³´-ê²€ìƒ‰-íŒŒì´í”„ë¼ì¸)

[í”„ë¡œì íŠ¸ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•](#í”„ë¡œì íŠ¸-ì„¤ì¹˜-ë°-ì‹¤í–‰-ë°©ë²•)

[ì—…ë°ì´íŠ¸ ë‚´ì—­](#ì—…ë°ì´íŠ¸-ë‚´ì—­)

[í´ë” êµ¬ì¡°](#í´ë”-êµ¬ì¡°)

[.env ì„¤ì •](#env-ì„¤ì •)

## ë°°í¬ ì£¼ì†Œ

```sh
https://main-project.leo3179.shop/graphql
```

## ì„œë²„,DB ì„¤ê³„

- Server FrameWork : Nest.js & Graphql
- Build :
  - Code-first build
  - Graphql build : module - resolver - service (ì†Œì…œ ë¡œê·¸ì¸ê³¼ health-checkingìš© controllerëŠ” ì¡´ì¬)
- DB : Mysql (RDBMS)
- ORM : TypeORM

## ê¸°ìˆ  ìŠ¤íƒ

<br>
<div align='center'> ğŸ–¥&nbsp&nbsp&nbspì‚¬ìš©í•œ ê¸°ìˆ  ìŠ¤íƒ</div>
<br>
<p align="center">
ğŸ“‘&nbsp&nbsp&nbspêµ¬ì„± ì–¸ì–´
  </p>
<p align="center">
<img alt= "icon" wide="80" height="80" src ="https://techstack-generator.vercel.app/js-icon.svg">
<img alt= "icon" wide="80" height="80" src ="https://techstack-generator.vercel.app/ts-icon.svg">
  </p>
 <p align="center">
ğŸ &nbsp&nbsp&nbspë°ì´í„°ë² ì´ìŠ¤
  </p>
<p align="center">
<img alt= "icon" wide="65" height="65" src ="https://techstack-generator.vercel.app/mysql-icon.svg">
&nbsp
&nbsp
&nbsp
<img alt= "icon" wide="60" height="60" src ="https://cdn4.iconfinder.com/data/icons/redis-2/1451/Untitled-2-512.png">

  </p>
   <p align="center">
ğŸš€&nbsp&nbsp&nbspë°°í¬
  </p>
<p align="center">
<img alt= "icon" wide="60" height="60" src ="https://techstack-generator.vercel.app/kubernetes-icon.svg">
&nbsp
&nbsp
&nbsp
<img alt= "icon" wide="60" height="60" src="https://lirp.cdn-website.com/aa0ef369/dms3rep/multi/opt/google-cloud-icon-570w.png">
&nbsp
&nbsp
&nbsp
<img alt= "icon" wide="60" height="60" src="https://techstack-generator.vercel.app/aws-icon.svg">
  </p>
    </p>
       <p align="center">
ğŸ–&nbsp&nbsp&nbspWith...
  </p>
<p align="center">
<img alt= "icon" wide="65" height="65" src ="https://techstack-generator.vercel.app/restapi-icon.svg">
<img alt= "icon" wide="65" height="65" src ="https://techstack-generator.vercel.app/graphql-icon.svg">
<img alt= "icon" wide="65" height="65" src ="https://techstack-generator.vercel.app/docker-icon.svg">
  &nbsp&nbsp
<img alt= "icon" wide="60" height="60" src ="https://symbols.getvecta.com/stencil_89/37_nestjs-icon.a67daec196.svg">
  </p>
  <p align="center">
<img alt= "icon" wide="60" height="60" src ="./readme-imgs/elasticsearch.png">
<img alt= "icon" wide="60" height="60" src ="./readme-imgs/logstash.png">
<img alt= "icon" wide="60" height="60" src ="./readme-imgs/kibana.png">
  </p>
  <p align="center">
  <img alt= "icon" wide="60" height="60" src ="https://nesoy.github.io/assets/posts/20170413/1.PNG">
  </p>

## ERD ì„¤ê³„

![](/readme-imgs/main-project-erd.png)

```
ğŸš› Car
 â””â”€ ğŸš™ CarType : ì»¤ìŠ¤íƒ€ë¯¸ì§• ëŒ€ë¶„ë¥˜( ex. model3,modelS...)
     â”‚
     â””â”€ ğŸš— CarModel : ì»¤ìŠ¤í„°ë§ˆì´ì§• ì¤‘ë¶„ë¥˜   <â”€â”€> CarTag
     ( ex. model3LongRange,modelSPlaid)
        â”‚
        â””â”€ ğŸ CarCustom : ì»¤ìŠ¤í„°ë§ˆì´ì§• ì†Œë¶„ë¥˜
   â”Œâ”€â”€â”€â”€â”€â”€( ex. model3LongRange(color: red,interior:black...)
   â”‚        â””â”€ CarWheel : ì»¤ìŠ¤í„°ë§ˆì´ì§• ì†Œë¶„ë¥˜(íœ  ì»¤ìŠ¤í…€)
   â”‚
ğŸ’° Payment
   â”‚
   â”‚
ğŸ‘©ğŸ»â€ğŸ’» User
```

## íŒŒì´í”„ ë¼ì¸

### ëª¨ë¸ì •ë³´ ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸

![](/readme-imgs/ê²€ìƒ‰%20íŒŒì´í”„ë¼ì¸.001.jpeg)

## í”„ë¡œì íŠ¸ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

- git clone https://github.com/leokim1178/main-project-1
- terminal commands

```
# local
brew install mysql
mysql.server start
mysql_secure_installation
ë¹„ë°€ë²ˆí˜¸(1234) ë° ê¸°íƒ€ ì„¤ì •
mysql -u root -p
Enter password : 1234
yarn start:dev

# local :  docker (ê¶Œì¥)
docker ì„¤ì¹˜
docker compose build
docker compose up

# Deployed Server URL
URL : https://main-project.leo3179.shop/graphql
```

## ì—…ë°ì´íŠ¸ ë‚´ì—­

- 0.02.0
  - ë¦¬íŒ©í† ë§ & ELK ë°°í¬

## í´ë” êµ¬ì¡°

```

ğŸ  main-project
â”œâ”€ ğŸ³ cloudbuild.yaml : CI/CDë¥¼ ìœ„í•œ github - gcp cloudbuild ì—°ê²° yaml
â””â”€ main-project-for-deploy
â”œâ”€ ğŸš€ backend
â”‚ â”œâ”€ ğŸ³ docker-compose.yaml
â”‚ â”œâ”€ ğŸ³ Dockerfile : my-backend
â”‚ â”œâ”€ ğŸ³ Dockerfile.logstash : my-logstash
â”‚ â”‚ ë°ì´í„°ë² ì´ìŠ¤ëŠ” gcp vm mysqlë¡œ ëŒ€ì²´í–ˆìŠµë‹ˆë‹¤
â”‚ â”œâ”€ ğŸ¦ elk
â”‚ â”‚ â”œâ”€ elasticsearch
â”‚ â”‚ â”‚ â””â”€ car_type_template.json
â”‚ â”‚ â”‚ : elasticsearch settings & mappings template
â”‚ â”‚ â”œâ”€ /kibana
â”‚ â”‚ â””â”€ /logstash : logstash.config íŒŒì¼
â”‚ â”œâ”€ /functions : ë°°í¬í•œ gcp functions ì •ë¦¬
â”‚ â”œâ”€ ğŸ’ package.json
â”‚ â””â”€ src
â”‚ â”œâ”€ ğŸ‡ apis
â”‚ â”‚ â”œâ”€ auth : ë¡œê·¸ì¸,ë¡œê·¸ì•„ì›ƒ,ì†Œì…œë¡œê·¸ì¸ api
â”‚ â”‚ â”œâ”€ ğŸš— car
â”‚ â”‚ â”‚ â”œâ”€ /carCustom
â”‚ â”‚ â”‚ â”œâ”€ /carImg
â”‚ â”‚ â”‚ â”œâ”€ /carModel
â”‚ â”‚ â”‚ â”œâ”€ /carTag
â”‚ â”‚ â”‚ â”œâ”€ /carType
â”‚ â”‚ â”‚ â””â”€ /carWheel
â”‚ â”‚ â”œâ”€ /iamport : iamportì— ì •ë³´ ìš”ì²­ ë° í™˜ë¶ˆì„ ìœ„í•œ api
â”‚ â”‚ â”œâ”€ /payment : ê²°ì œ api
â”‚ â”‚ â””â”€ /user : íšŒì›ê°€ì…, íšŒì›ì •ë³´ ì¡°íšŒ,ìˆ˜ì • ë“±
â”‚ â”œâ”€ ğŸ‘‘ app.module.ts
â”‚ â”œâ”€ ğŸ“„ commons
â”‚ â”‚ â”œâ”€ /auth : ë¡œê·¸ì¸, ì†Œì…œ ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ auth strategies & guards
â”‚ â”‚ â””â”€ /filter : exception filter
â”‚ â””â”€ main.ts
â””â”€ ğŸš€ frontend
â”œâ”€ /img
â”œâ”€ login
â”‚ â”œâ”€ index.css
â”‚ â””â”€ index.html
â””â”€ payment.html

```

## .env ì„¤ì •

1. ì†Œì…œ ë¡œê·¸ì¸ ê´€ë ¨ keys(naver,google,kakao)
2. gcp storage & bigQuery ê´€ë ¨ keys

## ì •ë³´

ë¸”ë¡œê·¸ : [leoKim's velog](https://story0tae.tistory.com/)
<br>
email : leo3179@naver.com

<!-- Markdown link & img dfn's -->

```

```
